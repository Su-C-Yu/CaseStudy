% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Fitbit Analyze},
  pdfauthor={Chung-Yu Su},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Fitbit Analyze}
\author{Chung-Yu Su}
\date{2023-04-18}

\begin{document}
\maketitle

\hypertarget{introduction}{%
\subsection{Introduction}\label{introduction}}

Case Study 2: How Can a Wellness Technology Company Play It Smart?
Welcome to the Bellabeat data analysis case study! In this case study,
you will perform many real-world tasks of a junior data analyst. You
will imagine you are working for Bellabeat, a high-tech manufacturer of
health-focused products for women, and meet different characters and
team members. In order to answer the key business questions, you will
follow the steps of the data analysis process: ask, prepare, process,
analyze, share, and act. Along the way, the Case Study Roadmap tables
--- including guiding questions and key tasks --- will help you stay on
the right path. By the end of this lesson, you will have a
portfolio-ready case study. Download the packet and reference the
details of this case study anytime. Then, when you begin your job hunt,
your case study will be a tangible way to demonstrate your knowledge and
skills to potential employers. \#\# Scenario You are a junior data
analyst working on the marketing analyst team at Bellabeat, a high-tech
manufacturer of health-focused products for women. Bellabeat is a
successful small company, but they have the potential to become a larger
player in the global smart device market. Urška Sršen, cofounder and
Chief Creative Officer of Bellabeat, believes that analyzing smart
device fitness data could help unlock new growth opportunities for the
company. You have been asked to focus on one of Bellabeat's products and
analyze smart device data to gain insight into how consumers are using
their smart devices. The insights you discover will then help guide
marketing strategy for the company. You will present your analysis to
the Bellabeat executive team along with your high-level recommendations
for Bellabeat's marketing strategy.

\hypertarget{characters-and-products}{%
\subsection{Characters and products}\label{characters-and-products}}

\hypertarget{characters}{%
\subsubsection{● Characters}\label{characters}}

○ Urška Sršen: Bellabeat's cofounder and Chief Creative Office ○ Sando
Mur: Mathematician and Bellabeat's cofounder; key member of the
Bellabeat executive team ○ Bellabeat marketing analytics team: A team of
data analysts responsible for collecting, analyzing, andreporting data
that helps guide Bellabeat's marketing strategy. You joined this team
six months ago and have been busy learning about Bellabeat'\,'s mission
and business goals --- as well as how you, as a junior data analyst, can
help Bellabeat achieve them.

\hypertarget{products}{%
\subsubsection{● Products}\label{products}}

○ Bellabeat app: The Bellabeat app provides users with health data
related to their activity, sleep, stress,menstrual cycle, and
mindfulness habits. This data can help users better understand their
current habits andmake healthy decisions. The Bellabeat app connects to
their line of smart wellness products. ○ Leaf: Bellabeat's classic
wellness tracker can be worn as a bracelet, necklace, or clip. The Leaf
tracker connects to the Bellabeat app to track activity, sleep, and
stress. ○ Time: This wellness watch combines the timeless look of a
classic timepiece with smart technology to track user activity, sleep,
and stress. The Time watch connects to the Bellabeat app to provide you
with insights into your daily wellness. ○ Spring: This is a water bottle
that tracks daily water intake using smart technology to ensure that you
are appropriately hydrated throughout the day. The Spring bottle
connects to the Bellabeat app to track your hydration levels.

○ Bellabeat membership: Bellabeat also offers a subscription-based
membership program for users. Membership gives users 24/7 access to
fully personalized guidance on nutrition, activity, sleep, health and
beauty, and mindfulness based on their lifestyle and goals.

\hypertarget{about-the-company}{%
\subsection{About the company}\label{about-the-company}}

Urška Sršen and Sando Mur founded Bellabeat, a high-tech company that
manufactures health-focused smart products. Sršen used her background as
an artist to develop beautifully designed technology that informs and
inspires women around the world. Collecting data on activity, sleep,
stress, and reproductive health has allowed Bellabeat to empower women
with knowledge about their own health and habits. Since it was founded
in 2013, Bellabeat has grown rapidly and quickly positioned itself as a
tech-driven wellness company for women. By 2016, Bellabeat had opened
offices around the world and launched multiple products. Bellabeat
products became available through a growing number of online retailers
in addition to their own e-commerce channel on their website. The
company has invested in traditional advertising media, such as radio,
out-of-home billboards, print, and television, but focuses on digital
marketing extensively. Bellabeat invests year-round in Google Search,
maintaining active Facebook and Instagram pages, and consistently
engages consumers on Twitter. Additionally, Bellabeat runs video ads on
Youtube and display ads on the Google Display Network to support
campaigns around key marketing dates. Sršen knows that an analysis of
Bellabeat's available consumer data would reveal more opportunities for
growth. She has asked the marketing analytics team to focus on a
Bellabeat product and analyze smart device usage data in order to gain
insight into how people are already using their smart devices. Then,
using this information, she would like high-level recommendations for
how these trends can inform Bellabeat marketing strategy.

\hypertarget{ux555fux7528packages}{%
\subsection{啟用Packages}\label{ux555fux7528packages}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## -- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --
## v dplyr     1.1.1     v readr     2.1.4
## v forcats   1.0.0     v stringr   1.5.0
## v ggplot2   3.4.2     v tibble    3.2.1
## v lubridate 1.9.2     v tidyr     1.3.0
## v purrr     1.0.1     
## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
## i Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(GGally)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Registered S3 method overwritten by 'GGally':
##   method from   
##   +.gg   ggplot2
\end{verbatim}

\hypertarget{ux532fux5165ux8cc7ux6599ux96c6}{%
\subsection{匯入資料集}\label{ux532fux5165ux8cc7ux6599ux96c6}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Active }\OtherTok{\textless{}{-}} \FunctionTok{read\_csv}\NormalTok{(}\StringTok{"/Users/chungyu/Downloads/Fitabase Data 4.12.16{-}5.12.16/dailyActivity\_merged.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Rows: 940 Columns: 15
## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr  (1): ActivityDate
## dbl (14): Id, TotalSteps, TotalDistance, TrackerDistance, LoggedActivitiesDi...
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Intensities }\OtherTok{\textless{}{-}} \FunctionTok{read\_csv}\NormalTok{(}\StringTok{"/Users/chungyu/Downloads/Fitabase Data 4.12.16{-}5.12.16/dailyIntensities\_merged.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Rows: 940 Columns: 10
## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (1): ActivityDay
## dbl (9): Id, SedentaryMinutes, LightlyActiveMinutes, FairlyActiveMinutes, Ve...
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Sleep }\OtherTok{\textless{}{-}} \FunctionTok{read\_csv}\NormalTok{(}\StringTok{"/Users/chungyu/Downloads/Fitabase Data 4.12.16{-}5.12.16/sleepDay\_merged.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Rows: 413 Columns: 5
## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (1): SleepDay
## dbl (4): Id, TotalSleepRecords, TotalMinutesAsleep, TotalTimeInBed
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Weight }\OtherTok{\textless{}{-}} \FunctionTok{read\_csv}\NormalTok{(}\StringTok{"/Users/chungyu/Downloads/Fitabase Data 4.12.16{-}5.12.16/weightLogInfo\_merged.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Rows: 67 Columns: 8
## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (1): Date
## dbl (6): Id, WeightKg, WeightPounds, Fat, BMI, LogId
## lgl (1): IsManualReport
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.
\end{verbatim}

\hypertarget{ux700fux89bdux539fux59cbux6a94ux6848}{%
\subsection{瀏覽原始檔案}\label{ux700fux89bdux539fux59cbux6a94ux6848}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(Active)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 15
##           Id ActivityDate TotalSteps TotalDistance TrackerDistance
##        <dbl> <chr>             <dbl>         <dbl>           <dbl>
## 1 1503960366 4/12/2016         13162          8.5             8.5 
## 2 1503960366 4/13/2016         10735          6.97            6.97
## 3 1503960366 4/14/2016         10460          6.74            6.74
## 4 1503960366 4/15/2016          9762          6.28            6.28
## 5 1503960366 4/16/2016         12669          8.16            8.16
## 6 1503960366 4/17/2016          9705          6.48            6.48
## # i 10 more variables: LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(Intensities)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 10
##         Id ActivityDay SedentaryMinutes LightlyActiveMinutes FairlyActiveMinutes
##      <dbl> <chr>                  <dbl>                <dbl>               <dbl>
## 1   1.50e9 4/12/2016                728                  328                  13
## 2   1.50e9 4/13/2016                776                  217                  19
## 3   1.50e9 4/14/2016               1218                  181                  11
## 4   1.50e9 4/15/2016                726                  209                  34
## 5   1.50e9 4/16/2016                773                  221                  10
## 6   1.50e9 4/17/2016                539                  164                  20
## # i 5 more variables: VeryActiveMinutes <dbl>, SedentaryActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   VeryActiveDistance <dbl>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(Sleep)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 5
##           Id SleepDay        TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##        <dbl> <chr>                       <dbl>              <dbl>          <dbl>
## 1 1503960366 4/12/2016 12:0~                 1                327            346
## 2 1503960366 4/13/2016 12:0~                 2                384            407
## 3 1503960366 4/15/2016 12:0~                 1                412            442
## 4 1503960366 4/16/2016 12:0~                 2                340            367
## 5 1503960366 4/17/2016 12:0~                 1                700            712
## 6 1503960366 4/19/2016 12:0~                 1                304            320
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(Weight)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 8
##           Id Date       WeightKg WeightPounds   Fat   BMI IsManualReport   LogId
##        <dbl> <chr>         <dbl>        <dbl> <dbl> <dbl> <lgl>            <dbl>
## 1 1503960366 5/2/2016 ~     52.6         116.    22  22.6 TRUE           1.46e12
## 2 1503960366 5/3/2016 ~     52.6         116.    NA  22.6 TRUE           1.46e12
## 3 1927972279 4/13/2016~    134.          294.    NA  47.5 FALSE          1.46e12
## 4 2873212765 4/21/2016~     56.7         125.    NA  21.5 TRUE           1.46e12
## 5 2873212765 5/12/2016~     57.3         126.    NA  21.7 TRUE           1.46e12
## 6 4319703577 4/17/2016~     72.4         160.    25  27.5 TRUE           1.46e12
\end{verbatim}

\hypertarget{ux8cc7ux6599ux6e05ux7406}{%
\subsection{資料清理}\label{ux8cc7ux6599ux6e05ux7406}}

\hypertarget{ux6e05ux7406ux7f3aux5931ux503c}{%
\subsubsection{清理缺失值}\label{ux6e05ux7406ux7f3aux5931ux503c}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Active }\OtherTok{\textless{}{-}}\NormalTok{ Active }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{distinct}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{drop\_na}\NormalTok{()}
\NormalTok{Intensities }\OtherTok{\textless{}{-}}\NormalTok{ Intensities }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{distinct}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{drop\_na}\NormalTok{()}
\NormalTok{Sleep }\OtherTok{\textless{}{-}}\NormalTok{ Sleep }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{distinct}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{drop\_na}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux589eux52a0ux6d3bux52d5ux6642ux9593ux5206ux9418ux8207ux5c0fux6642ux7684ux500bux5225ux7e3dux548c}{%
\subsubsection{增加活動時間分鐘與小時的個別總和}\label{ux589eux52a0ux6d3bux52d5ux6642ux9593ux5206ux9418ux8207ux5c0fux6642ux7684ux500bux5225ux7e3dux548c}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Active }\OtherTok{\textless{}{-}}\NormalTok{ Active }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{TotalActiveMinute =}\NormalTok{ SedentaryMinutes }\SpecialCharTok{+}\NormalTok{ LightlyActiveMinutes }\SpecialCharTok{+}\NormalTok{       FairlyActiveMinutes }\SpecialCharTok{+}\NormalTok{ VeryActiveMinutes) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{TotalActiveHour =}\NormalTok{ TotalActiveMinute}\SpecialCharTok{/}\DecValTok{60}\NormalTok{)  }
\FunctionTok{head}\NormalTok{(Active)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 17
##           Id ActivityDate TotalSteps TotalDistance TrackerDistance
##        <dbl> <chr>             <dbl>         <dbl>           <dbl>
## 1 1503960366 4/12/2016         13162          8.5             8.5 
## 2 1503960366 4/13/2016         10735          6.97            6.97
## 3 1503960366 4/14/2016         10460          6.74            6.74
## 4 1503960366 4/15/2016          9762          6.28            6.28
## 5 1503960366 4/16/2016         12669          8.16            8.16
## 6 1503960366 4/17/2016          9705          6.48            6.48
## # i 12 more variables: LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>,
## #   TotalActiveMinute <dbl>, TotalActiveHour <dbl>
\end{verbatim}

\hypertarget{ux5206ux5272ux65e5ux671fux8207ux6642ux9593}{%
\subsubsection{分割日期與時間}\label{ux5206ux5272ux65e5ux671fux8207ux6642ux9593}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Sleep }\OtherTok{\textless{}{-}}\NormalTok{ Sleep }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{separate}\NormalTok{(SleepDay, }\FunctionTok{c}\NormalTok{(}\StringTok{"Date"}\NormalTok{ , }\StringTok{"Time"}\NormalTok{) ,}\StringTok{" "}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{( }\AttributeTok{TotalHourInBed =}\NormalTok{ TotalTimeInBed}\SpecialCharTok{/}\DecValTok{60}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Expected 2 pieces. Additional pieces discarded in 410 rows [1, 2, 3, 4, 5, 6,
## 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...].
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(Sleep)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 7
##           Id Date      Time  TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##        <dbl> <chr>     <chr>             <dbl>              <dbl>          <dbl>
## 1 1503960366 4/12/2016 12:0~                 1                327            346
## 2 1503960366 4/13/2016 12:0~                 2                384            407
## 3 1503960366 4/15/2016 12:0~                 1                412            442
## 4 1503960366 4/16/2016 12:0~                 2                340            367
## 5 1503960366 4/17/2016 12:0~                 1                700            712
## 6 1503960366 4/19/2016 12:0~                 1                304            320
## # i 1 more variable: TotalHourInBed <dbl>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Weight }\OtherTok{\textless{}{-}}\NormalTok{ Weight }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{separate}\NormalTok{(Date,}\FunctionTok{c}\NormalTok{(}\StringTok{"Date"}\NormalTok{,}\StringTok{"Time"}\NormalTok{,}\StringTok{"AMPM"}\NormalTok{) , }\StringTok{" "}\NormalTok{)}
\FunctionTok{head}\NormalTok{(Weight)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 10
##           Id Date   Time  AMPM  WeightKg WeightPounds   Fat   BMI IsManualReport
##        <dbl> <chr>  <chr> <chr>    <dbl>        <dbl> <dbl> <dbl> <lgl>         
## 1 1503960366 5/2/2~ 11:5~ PM        52.6         116.    22  22.6 TRUE          
## 2 1503960366 5/3/2~ 11:5~ PM        52.6         116.    NA  22.6 TRUE          
## 3 1927972279 4/13/~ 1:08~ AM       134.          294.    NA  47.5 FALSE         
## 4 2873212765 4/21/~ 11:5~ PM        56.7         125.    NA  21.5 TRUE          
## 5 2873212765 5/12/~ 11:5~ PM        57.3         126.    NA  21.7 TRUE          
## 6 4319703577 4/17/~ 11:5~ PM        72.4         160.    25  27.5 TRUE          
## # i 1 more variable: LogId <dbl>
\end{verbatim}

\hypertarget{ux5408ux4f75ux6bcfux65e5ux6d3bux52d5ux4ee5ux53caux7761ux7720ux8cc7ux6599}{%
\subsubsection{合併每日活動以及睡眠資料}\label{ux5408ux4f75ux6bcfux65e5ux6d3bux52d5ux4ee5ux53caux7761ux7720ux8cc7ux6599}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{combined\_data }\OtherTok{\textless{}{-}} \FunctionTok{left\_join}\NormalTok{(Sleep , Active ,}\AttributeTok{by =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}Id\textquotesingle{}}  \OtherTok{=} \StringTok{\textquotesingle{}Id\textquotesingle{}}\NormalTok{ , }\StringTok{\textquotesingle{}Date\textquotesingle{}} \OtherTok{=} \StringTok{"ActivityDate"}\NormalTok{))}
\NormalTok{combined\_data }\OtherTok{\textless{}{-}}\NormalTok{ combined\_data }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{TotalHour =}\NormalTok{ TotalHourInBed }\SpecialCharTok{+}\NormalTok{ TotalActiveHour) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{TotalHourAsleep =}\NormalTok{ TotalMinutesAsleep }\SpecialCharTok{/} \DecValTok{60}\NormalTok{)}
\FunctionTok{head}\NormalTok{(combined\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 24
##           Id Date      Time  TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##        <dbl> <chr>     <chr>             <dbl>              <dbl>          <dbl>
## 1 1503960366 4/12/2016 12:0~                 1                327            346
## 2 1503960366 4/13/2016 12:0~                 2                384            407
## 3 1503960366 4/15/2016 12:0~                 1                412            442
## 4 1503960366 4/16/2016 12:0~                 2                340            367
## 5 1503960366 4/17/2016 12:0~                 1                700            712
## 6 1503960366 4/19/2016 12:0~                 1                304            320
## # i 18 more variables: TotalHourInBed <dbl>, TotalSteps <dbl>,
## #   TotalDistance <dbl>, TrackerDistance <dbl>, LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>,
## #   TotalActiveMinute <dbl>, TotalActiveHour <dbl>, TotalHour <dbl>, ...
\end{verbatim}

\hypertarget{ux6d88ux9664ux6d3bux52d5ux6642ux9593ux8207ux7761ux7720ux6642ux9593ux76f8ux52a0ux8d85ux904e24ux5c0fux6642ux7684ux8cc7ux6599}{%
\subsubsection{消除活動時間與睡眠時間相加超過24小時的資料}\label{ux6d88ux9664ux6d3bux52d5ux6642ux9593ux8207ux7761ux7720ux6642ux9593ux76f8ux52a0ux8d85ux904e24ux5c0fux6642ux7684ux8cc7ux6599}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{combined\_data }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(TotalHour }\SpecialCharTok{\textless{}=} \DecValTok{24}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 255 x 24
##            Id Date     Time  TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##         <dbl> <chr>    <chr>             <dbl>              <dbl>          <dbl>
##  1 1503960366 4/12/20~ 12:0~                 1                327            346
##  2 1503960366 4/13/20~ 12:0~                 2                384            407
##  3 1503960366 4/15/20~ 12:0~                 1                412            442
##  4 1503960366 4/16/20~ 12:0~                 2                340            367
##  5 1503960366 4/19/20~ 12:0~                 1                304            320
##  6 1503960366 4/20/20~ 12:0~                 1                360            377
##  7 1503960366 4/21/20~ 12:0~                 1                325            364
##  8 1503960366 4/23/20~ 12:0~                 1                361            384
##  9 1503960366 4/24/20~ 12:0~                 1                430            449
## 10 1503960366 4/25/20~ 12:0~                 1                277            323
## # i 245 more rows
## # i 18 more variables: TotalHourInBed <dbl>, TotalSteps <dbl>,
## #   TotalDistance <dbl>, TrackerDistance <dbl>, LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>, ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(combined\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 24
##           Id Date      Time  TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##        <dbl> <chr>     <chr>             <dbl>              <dbl>          <dbl>
## 1 1503960366 4/12/2016 12:0~                 1                327            346
## 2 1503960366 4/13/2016 12:0~                 2                384            407
## 3 1503960366 4/15/2016 12:0~                 1                412            442
## 4 1503960366 4/16/2016 12:0~                 2                340            367
## 5 1503960366 4/17/2016 12:0~                 1                700            712
## 6 1503960366 4/19/2016 12:0~                 1                304            320
## # i 18 more variables: TotalHourInBed <dbl>, TotalSteps <dbl>,
## #   TotalDistance <dbl>, TrackerDistance <dbl>, LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>,
## #   TotalActiveMinute <dbl>, TotalActiveHour <dbl>, TotalHour <dbl>, ...
\end{verbatim}

\hypertarget{ux7761ux7720ux60c5ux6cc1ux5206ux985e}{%
\subsubsection{睡眠情況分類}\label{ux7761ux7720ux60c5ux6cc1ux5206ux985e}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{combined\_data}\SpecialCharTok{$}\NormalTok{SleepCon }\OtherTok{=} \FunctionTok{case\_when}\NormalTok{(combined\_data}\SpecialCharTok{$}\NormalTok{TotalHourAsleep }\SpecialCharTok{\textgreater{}=} \DecValTok{7} \SpecialCharTok{\textasciitilde{}} \StringTok{"Enough"}\NormalTok{, }\ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}} \StringTok{"Not Enough"}\NormalTok{)}
\FunctionTok{head}\NormalTok{(combined\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 25
##           Id Date      Time  TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##        <dbl> <chr>     <chr>             <dbl>              <dbl>          <dbl>
## 1 1503960366 4/12/2016 12:0~                 1                327            346
## 2 1503960366 4/13/2016 12:0~                 2                384            407
## 3 1503960366 4/15/2016 12:0~                 1                412            442
## 4 1503960366 4/16/2016 12:0~                 2                340            367
## 5 1503960366 4/17/2016 12:0~                 1                700            712
## 6 1503960366 4/19/2016 12:0~                 1                304            320
## # i 19 more variables: TotalHourInBed <dbl>, TotalSteps <dbl>,
## #   TotalDistance <dbl>, TrackerDistance <dbl>, LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>,
## #   TotalActiveMinute <dbl>, TotalActiveHour <dbl>, TotalHour <dbl>, ...
\end{verbatim}

\hypertarget{ux8dddux96e2ux8aa4ux5dee}{%
\subsubsection{距離誤差}\label{ux8dddux96e2ux8aa4ux5dee}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{combined\_data}\SpecialCharTok{$}\NormalTok{Distance\_Error }\OtherTok{\textless{}{-}} \FunctionTok{abs}\NormalTok{(combined\_data}\SpecialCharTok{$}\NormalTok{TotalDistance }\SpecialCharTok{{-}}\NormalTok{ combined\_data}\SpecialCharTok{$}\NormalTok{TrackerDistance)}
\FunctionTok{head}\NormalTok{(combined\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 26
##           Id Date      Time  TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##        <dbl> <chr>     <chr>             <dbl>              <dbl>          <dbl>
## 1 1503960366 4/12/2016 12:0~                 1                327            346
## 2 1503960366 4/13/2016 12:0~                 2                384            407
## 3 1503960366 4/15/2016 12:0~                 1                412            442
## 4 1503960366 4/16/2016 12:0~                 2                340            367
## 5 1503960366 4/17/2016 12:0~                 1                700            712
## 6 1503960366 4/19/2016 12:0~                 1                304            320
## # i 20 more variables: TotalHourInBed <dbl>, TotalSteps <dbl>,
## #   TotalDistance <dbl>, TrackerDistance <dbl>, LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>,
## #   TotalActiveMinute <dbl>, TotalActiveHour <dbl>, TotalHour <dbl>, ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sum}\NormalTok{(combined\_data}\SpecialCharTok{$}\NormalTok{Distance\_Error)}\CommentTok{\#計算出誤差總和}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2.06
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#變更日期格式}
\NormalTok{combined\_data}\SpecialCharTok{$}\NormalTok{Date }\OtherTok{\textless{}{-}} \FunctionTok{as.Date}\NormalTok{(combined\_data}\SpecialCharTok{$}\NormalTok{Date,}\AttributeTok{format =} \StringTok{"\%m/\%d/\%y"}\NormalTok{)}

\NormalTok{combined\_data}\SpecialCharTok{$}\NormalTok{weekday }\OtherTok{\textless{}{-}} \FunctionTok{weekdays}\NormalTok{(combined\_data}\SpecialCharTok{$}\NormalTok{Date)}
\FunctionTok{head}\NormalTok{(combined\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 27
##          Id Date       Time  TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
##       <dbl> <date>     <chr>             <dbl>              <dbl>          <dbl>
## 1    1.50e9 2020-04-12 12:0~                 1                327            346
## 2    1.50e9 2020-04-13 12:0~                 2                384            407
## 3    1.50e9 2020-04-15 12:0~                 1                412            442
## 4    1.50e9 2020-04-16 12:0~                 2                340            367
## 5    1.50e9 2020-04-17 12:0~                 1                700            712
## 6    1.50e9 2020-04-19 12:0~                 1                304            320
## # i 21 more variables: TotalHourInBed <dbl>, TotalSteps <dbl>,
## #   TotalDistance <dbl>, TrackerDistance <dbl>, LoggedActivitiesDistance <dbl>,
## #   VeryActiveDistance <dbl>, ModeratelyActiveDistance <dbl>,
## #   LightActiveDistance <dbl>, SedentaryActiveDistance <dbl>,
## #   VeryActiveMinutes <dbl>, FairlyActiveMinutes <dbl>,
## #   LightlyActiveMinutes <dbl>, SedentaryMinutes <dbl>, Calories <dbl>,
## #   TotalActiveMinute <dbl>, TotalActiveHour <dbl>, TotalHour <dbl>, ...
\end{verbatim}

實際距離與裝置距離相差不多

\hypertarget{ux5206ux6790ux8cc7ux6599}{%
\subsection{分析資料}\label{ux5206ux6790ux8cc7ux6599}}

\hypertarget{ux4f7fux7528ux8005ux7761ux7720ux60c5ux6cc1}{%
\subsubsection{使用者睡眠情況}\label{ux4f7fux7528ux8005ux7761ux7720ux60c5ux6cc1}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ combined\_data,}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ SleepCon ,}\AttributeTok{fill =}\NormalTok{ SleepCon)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_bar}\NormalTok{() }
\end{Highlighting}
\end{Shaded}

\includegraphics{C_files/figure-latex/unnamed-chunk-11-1.pdf}

上圖可以得知有睡超過七小時的使用者佔多數。

\hypertarget{ux4f7fux7528ux8005ux4e00ux9031ux4e2dux7761ux7720ux6642ux9593ux591aux5be1}{%
\subsubsection{使用者一週中睡眠時間多寡}\label{ux4f7fux7528ux8005ux4e00ux9031ux4e2dux7761ux7720ux6642ux9593ux591aux5be1}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ combined\_data) }\SpecialCharTok{+} 
  \FunctionTok{geom\_boxplot}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ weekday , }\AttributeTok{y =}\NormalTok{ TotalHourAsleep , }\AttributeTok{fill =}\NormalTok{ weekday))}
\end{Highlighting}
\end{Shaded}

\includegraphics{C_files/figure-latex/unnamed-chunk-12-1.pdf}

由上圖可以觀察使用者一週中睡眠時間平均相差不遠，但在星期四與星期五睡眠時間範圍較廣。

\hypertarget{ux89c0ux5bdfux4f7fux7528ux8005ux7761ux7720ux6642ux9593ux8207ux6d88ux8017ux71b1ux91cfux4e4bux9593ux7684ux95dcux4fc2}{%
\subsubsection{觀察使用者睡眠時間與消耗熱量之間的關係}\label{ux89c0ux5bdfux4f7fux7528ux8005ux7761ux7720ux6642ux9593ux8207ux6d88ux8017ux71b1ux91cfux4e4bux9593ux7684ux95dcux4fc2}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ combined\_data) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ TotalHourAsleep , }\AttributeTok{y =}\NormalTok{ Calories,}\AttributeTok{color =}\NormalTok{ SleepCon)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_smooth}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ TotalHourAsleep , }\AttributeTok{y =}\NormalTok{ Calories),}\AttributeTok{color =} \StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{,}\AttributeTok{alpha =} \FloatTok{0.2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `geom_smooth()` using method = 'loess' and formula = 'y ~ x'
\end{verbatim}

\includegraphics{C_files/figure-latex/unnamed-chunk-13-1.pdf}

上圖可以得知使用者的睡眠時間大多集中在5\textasciitilde10個小時之間，而睡眠時間的多寡與消耗的熱量並沒有太大的關係。

\hypertarget{ux8f03ux9ad8ux5f37ux5ea6ux7684ux6d3bux52d5}{%
\subsubsection{較高強度的活動}\label{ux8f03ux9ad8ux5f37ux5ea6ux7684ux6d3bux52d5}}

\hypertarget{ux9031ux4e00ux5230ux9031ux65e5ux9ad8ux5f37ux5ea6ux6d3bux52d5ux7684ux6642ux9593}{%
\paragraph{週一到週日高強度活動的時間}\label{ux9031ux4e00ux5230ux9031ux65e5ux9ad8ux5f37ux5ea6ux6d3bux52d5ux7684ux6642ux9593}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ combined\_data) }\SpecialCharTok{+} 
  \FunctionTok{geom\_col}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{weekday,}\AttributeTok{y =}\NormalTok{ VeryActiveMinutes,}\AttributeTok{fill =}\NormalTok{ weekday,}\AttributeTok{alpha =} \FloatTok{0.1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{C_files/figure-latex/unnamed-chunk-14-1.pdf}

\hypertarget{ux9031ux4e00ux5230ux9031ux65e5ux9ad8ux5f37ux5ea6ux6d3bux52d5ux7684ux8dddux96e2}{%
\paragraph{週一到週日高強度活動的距離}\label{ux9031ux4e00ux5230ux9031ux65e5ux9ad8ux5f37ux5ea6ux6d3bux52d5ux7684ux8dddux96e2}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ combined\_data) }\SpecialCharTok{+} 
  \FunctionTok{geom\_col}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{weekday,}\AttributeTok{y =}\NormalTok{ VeryActiveDistance,}\AttributeTok{fill =}\NormalTok{ weekday,}\AttributeTok{alpha =}\NormalTok{ .}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{C_files/figure-latex/unnamed-chunk-15-1.pdf}

由以上兩張圖顯示，星期四與星期日使用者最常進行高強度運動。

\hypertarget{ux6d88ux8017ux71b1ux91cfux5206ux6790}{%
\subsection{消耗熱量分析}\label{ux6d88ux8017ux71b1ux91cfux5206ux6790}}

\hypertarget{ux884cux8d70ux6b65ux6578ux8207ux6d88ux8017ux71b1ux91cfux7684ux95dcux4fc2}{%
\subsubsection{行走步數與消耗熱量的關係}\label{ux884cux8d70ux6b65ux6578ux8207ux6d88ux8017ux71b1ux91cfux7684ux95dcux4fc2}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ Active , }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =} \FunctionTok{as.numeric}\NormalTok{(Calories) , }\AttributeTok{y =}\FunctionTok{as.numeric}\NormalTok{(TotalSteps))) }\SpecialCharTok{+} 
                  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\FunctionTok{as.numeric}\NormalTok{(Calories))) }\SpecialCharTok{+}
                  \FunctionTok{geom\_smooth}\NormalTok{(}\AttributeTok{color =} \StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{,}\AttributeTok{alpha =} \FloatTok{0.2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `geom_smooth()` using method = 'loess' and formula = 'y ~ x'
\end{verbatim}

\includegraphics{C_files/figure-latex/unnamed-chunk-16-1.pdf}

\hypertarget{ux884cux8d70ux8dddux96e2ux8207ux6d88ux8017ux71b1ux91cfux7684ux95dcux4fc2}{%
\subsubsection{行走距離與消耗熱量的關係}\label{ux884cux8d70ux8dddux96e2ux8207ux6d88ux8017ux71b1ux91cfux7684ux95dcux4fc2}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ Active , }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =} \FunctionTok{as.numeric}\NormalTok{(Calories) , }\AttributeTok{y =}\FunctionTok{as.numeric}\NormalTok{(TotalDistance))) }\SpecialCharTok{+} 
                  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\FunctionTok{as.numeric}\NormalTok{(Calories))) }\SpecialCharTok{+}
                  \FunctionTok{geom\_smooth}\NormalTok{(}\AttributeTok{color =} \StringTok{\textquotesingle{}pink\textquotesingle{}}\NormalTok{,}\AttributeTok{alpha =} \FloatTok{0.2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `geom_smooth()` using method = 'loess' and formula = 'y ~ x'
\end{verbatim}

\includegraphics{C_files/figure-latex/unnamed-chunk-17-1.pdf}

經由觀察趨勢線，可以發現行走步數、距離都與消耗的熱量成正向關係。

\hypertarget{ux76f8ux95dcux4fc2ux6578ux8868}{%
\subsubsection{相關係數表}\label{ux76f8ux95dcux4fc2ux6578ux8868}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Picked\_Active\_1 }\OtherTok{\textless{}{-}}\NormalTok{ Active }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{select}\NormalTok{(TotalSteps,Calories,TotalDistance)}
\NormalTok{Cor\_Picked\_Active\_1 }\OtherTok{\textless{}{-}} \FunctionTok{cor}\NormalTok{(Picked\_Active\_1)}
\FunctionTok{head}\NormalTok{(Cor\_Picked\_Active\_1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##               TotalSteps  Calories TotalDistance
## TotalSteps     1.0000000 0.5915681     0.9853688
## Calories       0.5915681 1.0000000     0.6449619
## TotalDistance  0.9853688 0.6449619     1.0000000
\end{verbatim}

\hypertarget{ux76f8ux95dcux4fc2ux6578ux5716}{%
\subsubsection{相關係數圖}\label{ux76f8ux95dcux4fc2ux6578ux5716}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(corrplot)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## corrplot 0.92 loaded
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{corrplot}\NormalTok{(Cor\_Picked\_Active\_1,}
         \AttributeTok{tl.col =} \StringTok{"black"}\NormalTok{,}
         \AttributeTok{method =} \StringTok{"color"}\NormalTok{,}
         \AttributeTok{col =} \FunctionTok{colorRampPalette}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"\#ffa500"}\NormalTok{, }\StringTok{"\#FFFFFF"}\NormalTok{, }\StringTok{"\#BC8F8F"}\NormalTok{))(}\DecValTok{100}\NormalTok{),}
         \AttributeTok{addCoef.col =} \StringTok{"black"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{C_files/figure-latex/unnamed-chunk-19-1.pdf} \#\#
久坐分析 \#\#\# 久坐時間與睡眠狀況

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ combined\_data, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ weekday , }\AttributeTok{y =}\NormalTok{ SedentaryMinutes)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_col}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{fill =}\NormalTok{ SleepCon),}\AttributeTok{position =} \StringTok{"stack"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"\#E69F00"}\NormalTok{, }\StringTok{"\#56B4E9"}\NormalTok{, }\StringTok{"\#009E73"}\NormalTok{, }\StringTok{"\#F0E442"}\NormalTok{, }\StringTok{"\#0072B2"}\NormalTok{)) }\SpecialCharTok{+} 
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{C_files/figure-latex/unnamed-chunk-20-1.pdf}

由上圖可以看到，久坐時間與睡眠時間沒有太大的相關性，以星期天為例，雖然久坐的時間很長，但睡眠不足的使用者還是佔多數。

\end{document}
